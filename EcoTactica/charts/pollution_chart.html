<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>汙染 關係圖</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        body { 
            font-family: 'Arial', 'Helvetica', sans-serif; 
            display: flex; 
            flex-direction: column;
            justify-content: flex-start; 
            align-items: center; 
            min-height: 100vh; 
            margin: 0; 
            padding-top: 20px; /* Add some padding at the top */
            background-color: #f4f4f4; 
        }
        h1 {
            color: #333;
            margin-bottom: 20px;
        }
        /* Container for the Mermaid div to manage overflow and initial sizing */
        .mermaid-container {
            background-color: white; 
            padding: 20px; 
            border-radius: 8px; 
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            width: 95%; /* Start with a good width */
            max-width: 1600px; /* Allow it to be quite wide if needed */
            overflow-x: auto; /* Allow horizontal scrolling for large diagrams */
        }
        /* Apply scaling to the Mermaid diagram itself */
        .mermaid {
            transform-origin: top left; /* Scale from the top-left corner */
            /* transform: scale(1.2); */ /* Example: Scale by 20%. Adjust as needed. */
        }
    </style>
</head>
<body>
    <h1>汙染：問題解決流程圖</h1>
    <div class="mermaid-container">
        <div class="mermaid">
graph TD
    %% Events
    E_AcidRain["酸雨侵蝕"]:::event
    E_Eutrophication["水體優養化"]:::event
    E_OzoneDepletion["臭氧層破壞"]:::event

    %% Strategies
    S_ReducePlastic["減少一次性塑膠使用"]:::strategy
    S_LimitUtensils["限制免洗餐具"]:::strategy
    S_IndustryEmission["工業減排補助"]:::strategy
    S_GreenConsumption["推廣綠色消費"]:::strategy
    S_OzoneCoop["國際合作臭氧層修復"]:::strategy

    %% Flags
    F_AirPollution["空氣污染嚴重"]:::flag
    F_WaterPollution["水質污染嚴重"]:::flag
    F_GlobalCrisis["全球性環境危機"]:::flag
    F_LessPlastic["減少塑膠垃圾"]:::flag
    F_EcoFriendlyCatering["餐飲業環保轉型"]:::flag
    F_AirImproved["空氣污染改善"]:::flag
    F_WaterImproved["水質污染改善"]:::flag
    F_GreenMarket["市場導向環保"]:::flag
    F_GlobalCoop["全球合作減排"]:::flag
    
    %% External Flags
    F_OverallAwareness["民眾保育總體意識提升（外部）"]:::externalFlag
    F_InternationalCoop["國際合作（外部）"]:::externalFlag

    %% Dependencies & Effects
    F_AirPollution --> E_AcidRain
    F_WaterPollution --> E_Eutrophication
    F_GlobalCrisis --> E_OzoneDepletion

    F_OverallAwareness --> S_ReducePlastic
    S_ReducePlastic --> F_LessPlastic

    F_LessPlastic --> S_LimitUtensils
    S_LimitUtensils --> F_EcoFriendlyCatering

    S_IndustryEmission --> F_AirImproved
    S_IndustryEmission --> F_WaterImproved

    S_GreenConsumption --> F_GreenMarket

    F_InternationalCoop --> S_OzoneCoop
    S_OzoneCoop --> F_GlobalCoop

    F_AirImproved --> E_AcidRain
    F_WaterImproved --> E_Eutrophication
    F_GlobalCoop --> E_OzoneDepletion
    
    %% Styling
    classDef event fill:#f9f,stroke:#333,stroke-width:2px
    classDef strategy fill:#ccf,stroke:#333,stroke-width:2px
    classDef flag fill:#dfd,stroke:#333,stroke-width:2px
    classDef externalFlag fill:#eee,stroke:#333,stroke-width:1px,stroke-dasharray: 5 5



        </div>
    </div>
    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'base', // 'default', 'forest', 'dark', 'neutral', 'base'
            logLevel: 3, // For debugging mermaid rendering - Increased log level
            themeVariables: {
                primaryColor: '#f0f8ff', // AliceBlue for background of diagram
                primaryTextColor: '#333',
                lineColor: '#555',
                fontSize: '15px' // Slightly increased base font size
            },
        });
    </script>
</body>
</html>
