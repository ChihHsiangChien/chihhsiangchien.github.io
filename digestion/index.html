<!doctype html>
<html lang="zh-Hant">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>消化過程互動示範</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <h1>消化過程互動示範</h1>
      <p>點選一個大分子（澱粉 / 蛋白質 / 脂質）讓它沿著消化道移動，在小腸轉換成小分子。</p>
    </header>

    <section class="legend">
      <div class="nutrient carb" data-type="carb">
        <span class="label">澱粉</span>
      </div>
      <div class="nutrient protein" data-type="protein">
        <span class="label">蛋白質</span>
      </div>
      <div class="nutrient fat" data-type="fat">
        <span class="label">脂質</span>
      </div>
    </section>

    <main>
      <div class="canvas">
        <!-- SVG simplified digestive tract path -->
        <svg id="svg" viewBox="0 0 140 200" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg">
          <!-- simple body silhouette for context -->
          <g id="body" fill="none">
            <path d="m 45.120566,41.532997
c 7.64509,-5.572675 4.052809,-16.193727 9.75436,-23.081666 6.041883,-7.706749 17.702117,-8.03398 26.671167,-6.863209 31.788327,16.236332 4.21206,39.850016 5.49151,44.955216 1.91814,10.45421 15.051047,1.09979 20.627807,8.44995 9.26706,6.50923 7.58175,18.86966 7.39158,28.748056 -0.14726,24.856186 -0.27478,49.725986 -1.04687,74.575736 -10.79407,10.22211 0.72951,34.59201 -12.64578,40.44623 -26.546297,12.28881 -20.106557,-30.07175 -28.842217,-29.60318 -11.202321,0.82349 -4.54287,30.78971 -22.134385,30.0576 -25.201301,0.43966 -6.885076,-27.51131 -17.640717,-31.44566 -6.396071,-6.92289 -2.812556,-16.80322 -3.554882,-25.18243 0.107927,-25.01435 0.222598,-50.02867 0.336304,-75.042982 0.90916,-9.56388 9.661824,-16.60389 19.16469,-14.44259 4.417267,-1.5564 17.591163,3.04433 14.435058,-4.63867 -6.772293,-2.49677 -13.904119,-5.01409 -12.646752,-13.759177 -1.65119,-2.022585 -4.505541,0.302124 -5.360873,-3.173224z" stroke="#f5c6b0" stroke-width="0.3" stroke-linecap="round" opacity="0.8" />
          </g>

          <!-- digestive path: mouth -> esophagus -> stomach -> small intestine (loop) -> large intestine -->
          <path id="digestPath" d="m 51.613995,47.613665
c 6.265469,-2.960969 16.456815,-5.537419 20.516389,2.014142 2.609586,6.952286 1.122757,14.592524 1.67463,21.882903
l 0.542555,29.96104
c 3.139326,4.90083 18.605791,5.52809 8.795291,13.36553 -6.538848,6.52568 -12.580186,-1.58561 -19.156362,-1.88545 -8.312368,-0.14187 -9.033417,13.41257 -1.922689,15.79287 8.145254,2.38896 16.514828,-1.27984 24.733979,0.0863 8.65918,11.09804 -33.130059,1.74327 -33.595477,11.81379 -0.518704,11.22351 32.724014,-5.0064 37.229504,4.94345 -0.747414,6.71541 -32.205002,1.9816 -34.728296,5.43255 -4.757021,6.5059 12.804368,6.9702 31.72198,6.81793 11.310283,6.69353 -26.840338,4.98095 -35.686882,7.01718 -9.622965,0.80396 -11.99293,-34.94201 4.50407,-30.0662 12.745946,-0.62325 27.180912,-3.83396 39.792653,-1.02387 3.781709,3.22407 10.20326,35.39932 -4.843502,33.59041 -6.121326,0.42726 -15.155999,-1.93571 -18.045324,5.35572 -0.706843,1.84994 -0.289575,3.83417 0.536612,5.56255" stroke="#d6a" stroke-width="2" fill="none" />

          <!-- mouth zone marker (for detection) -->
          <rect id="mouthZone" x="40" y="60" width="10" height="10" fill="#d0ecff" opacity="0.8" stroke="#bfe6ff" stroke-dasharray="3 3" />
          <!-- stomach zone marker (for detection) -->
          <rect id="stomachZone" x="70" y="100" width="10" height="20" fill="#ffe6d6" opacity="0.8" stroke="#ffd6b8" stroke-dasharray="3 3" />

          <!-- small intestine zone marker (for detection) -->
          <rect id="smallIntestineZone" x="50" y="128" width="42" height="40" fill="#dff0d8" opacity="0.25" stroke="#b6e2b2" stroke-dasharray="4 4" />
        </svg>

        <!-- nutrient tokens that will be animated along the path -->
        <div id="tokens">
          <button class="token carb" data-type="carb" title="點選開始：澱粉 → 葡萄糖">澱粉</button>
          <button class="token protein" data-type="protein" title="點選開始：蛋白質 → 胺基酸">蛋白質</button>
          <button class="token fat" data-type="fat" title="點選開始：脂質 → 甘油 + 脂肪酸">脂質</button>
        </div>

        <div id="info" aria-live="polite"></div>
      </div>
    </main>

    <script src="script.js"></script>
  </body>
</html>
