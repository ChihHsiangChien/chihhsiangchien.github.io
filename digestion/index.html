<!doctype html>
<html lang="zh-Hant">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>消化過程互動示範</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <h1>消化過程互動示範</h1>
      <p>點選一個大分子（澱粉 / 蛋白質 / 脂質）讓它沿著消化道移動，在小腸轉換成小分子。</p>
    </header>

    <section class="legend">
      <div class="nutrient carb" data-type="carb">
        <span class="label">澱粉</span>
      </div>
      <div class="nutrient protein" data-type="protein">
        <span class="label">蛋白質</span>
      </div>
      <div class="nutrient fat" data-type="fat">
        <span class="label">脂質</span>
      </div>
    </section>

    <main>
      <div class="canvas">
        <!-- SVG simplified digestive tract path -->
        <svg id="svg" viewBox="0 0 400 900" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg">
          <!-- simple body silhouette for context -->
          <g id="body" fill="none">
            <path d="M200 40 Q220 50 220 80 L220 150" stroke="#f5c6b0" stroke-width="120" stroke-linecap="round" opacity="0.9" />
          </g>

          <!-- digestive path: mouth -> esophagus -> stomach -> small intestine (loop) -> large intestine -->
          <path id="digestPath" d="M200 150 C200 160 200 200 200 260 C200 330 260 350 260 390 C260 430 180 430 180 470 C180 520 240 520 260 560 C280 600 220 630 200 630 C160 630 140 610 120 580 C100 550 120 520 140 500 C160 480 200 480 240 500 C280 520 280 560 260 600 C240 640 200 660 200 700" stroke="#d6a" stroke-width="2" fill="none" />

          <!-- mouth zone marker (for detection) -->
          <rect id="mouthZone" x="160" y="140" width="80" height="40" fill="#d0ecff" opacity="0.25" stroke="#bfe6ff" stroke-dasharray="3 3" />
          <!-- stomach zone marker (for detection) -->
          <rect id="stomachZone" x="150" y="300" width="100" height="80" fill="#ffe6d6" opacity="0.22" stroke="#ffd6b8" stroke-dasharray="3 3" />

          <!-- small intestine zone marker (for detection) -->
          <rect id="smallIntestineZone" x="100" y="450" width="200" height="120" fill="#dff0d8" opacity="0.25" stroke="#b6e2b2" stroke-dasharray="4 4" />
        </svg>

        <!-- nutrient tokens that will be animated along the path -->
        <div id="tokens">
          <button class="token carb" data-type="carb" title="點選開始：澱粉 → 葡萄糖">澱粉</button>
          <button class="token protein" data-type="protein" title="點選開始：蛋白質 → 胺基酸">蛋白質</button>
          <button class="token fat" data-type="fat" title="點選開始：脂質 → 甘油 + 脂肪酸">脂質</button>
        </div>

        <div id="info" aria-live="polite"></div>
      </div>
    </main>

    <script src="script.js"></script>
  </body>
</html>
