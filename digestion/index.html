<!doctype html>
<html lang="zh-Hant">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>消化過程互動示範</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <h1>消化過程互動示範</h1>
      <p>點選一個大分子（澱粉 / 蛋白質 / 脂質）讓它沿著消化道移動，在小腸轉換成小分子。</p>
    </header>

    <section class="legend">
      <div class="nutrient carb" data-type="carb">
        <span class="label">澱粉</span>
      </div>
      <div class="nutrient protein" data-type="protein">
        <span class="label">蛋白質</span>
      </div>
      <div class="nutrient fat" data-type="fat">
        <span class="label">脂質</span>
      </div>
    </section>

    <main>
      <div class="canvas">
        <!-- SVG simplified digestive tract path -->
        <svg id="svg" viewBox="0 0 140 200" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg">
          <!-- simple body silhouette for context -->
          <g id="body" fill="none">
            <path d="m 45.120566,41.532997
c 7.64509,-5.572675 4.052809,-16.193727 9.75436,-23.081666 6.041883,-7.706749 17.702117,-8.03398 26.671167,-6.863209 31.788327,16.236332 4.21206,39.850016 5.49151,44.955216 1.91814,10.45421 15.051047,1.09979 20.627807,8.44995 9.26706,6.50923 7.58175,18.86966 7.39158,28.748056 -0.14726,24.856186 -0.27478,49.725986 -1.04687,74.575736 -10.79407,10.22211 0.72951,34.59201 -12.64578,40.44623 -26.546297,12.28881 -20.106557,-30.07175 -28.842217,-29.60318 -11.202321,0.82349 -4.54287,30.78971 -22.134385,30.0576 -25.201301,0.43966 -6.885076,-27.51131 -17.640717,-31.44566 -6.396071,-6.92289 -2.812556,-16.80322 -3.554882,-25.18243 0.107927,-25.01435 0.222598,-50.02867 0.336304,-75.042982 0.90916,-9.56388 9.661824,-16.60389 19.16469,-14.44259 4.417267,-1.5564 17.591163,3.04433 14.435058,-4.63867 -6.772293,-2.49677 -13.904119,-5.01409 -12.646752,-13.759177 -1.65119,-2.022585 -4.505541,0.302124 -5.360873,-3.173224z" stroke="#f5c6b0" stroke-width="0.3" stroke-linecap="round" opacity="0.8" />
          </g>

          <!-- digestive path: mouth -> esophagus -> stomach -> small intestine (loop) -> large intestine -->
          <path id="digestPath" d="m 51.613995,47.613665
c 6.265469,-2.960969 16.456815,-5.537419 20.516389,2.014142 2.609586,6.952286 1.122757,14.592524 1.67463,21.882903
l 0.542555,29.96104
c 3.139326,4.90083 18.605791,5.52809 8.795291,13.36553 -6.538848,6.52568 -12.580186,-1.58561 -19.156362,-1.88545 -8.312368,-0.14187 -9.033417,13.41257 -1.922689,15.79287 8.145254,2.38896 16.514828,-1.27984 24.733979,0.0863 8.65918,11.09804 -33.130059,1.74327 -33.595477,11.81379 -0.518704,11.22351 32.724014,-5.0064 37.229504,4.94345 -0.747414,6.71541 -32.205002,1.9816 -34.728296,5.43255 -4.757021,6.5059 12.804368,6.9702 31.72198,6.81793 11.310283,6.69353 -26.840338,4.98095 -35.686882,7.01718 -9.622965,0.80396 -11.99293,-34.94201 4.50407,-30.0662 12.745946,-0.62325 27.180912,-3.83396 39.792653,-1.02387 3.781709,3.22407 10.20326,35.39932 -4.843502,33.59041 -6.121326,0.42726 -15.155999,-1.93571 -18.045324,5.35572 -0.706843,1.84994 -0.289575,3.83417 0.536612,5.56255" stroke="#d6a" stroke-width="2" fill="none" />

          <!-- mouth zone marker (for detection) -->
          <path id="mouthZone" d="m 62.602606,42.793025
c 6.430936,0.268385 8.419718,2.424684 9.713119,4.876522 0,0 0.30434,-1.136043 -2.590214,1.48436 -2.790807,-3.073798 -3.844123,-3.807447 -10.670254,-2.843392 -0.802945,0.1134 -0.630563,-2.221121 -0.989614,-2.98086
z" stroke="#d6a" stroke-width="5" fill="#ffe6d6"  />
          <!-- stomach zone marker (for detection) -->
          <path id="stomachZone" d="m 85.362045,118.30073
c -5.286775,3.75486 -13.512512,6.9823 -15.580799,-2.33567
l 2.735128,-2.13071
c 2.239866,0.85216 6.226571,-0.99214 4.11099,-7.43554 1.210812,-0.96238 2.283063,0.0557 2.300917,-2.46543 12.811553,-8.479668 15.746593,7.75305 6.433764,14.36735
z" stroke="#d6a" stroke-width="1" fill="#ffe6d6"/>

          <!-- small intestine zone marker (for detection) -->
          <path id="smallIntestineZone" d="m 66.503906,110.63672
c -0.978752,-0.0215 -1.944756,0.0592 -2.863281,0.2168 -3.6741,0.63045 -6.778859,2.15584 -8.429688,4.41601 -1.984291,2.71673 -2.755841,5.66629 -2.101562,8.28711 0.654279,2.62082 2.811808,4.6828 5.673828,5.46484 1.573537,0.42997 3.604527,0.52887 6.113281,0.5918 2.508754,0.0629 5.410235,0.041 8.283203,0.0215 2.872969,-0.0195 5.717838,-0.0372 8.064454,0.0332 2.346615,0.0704 4.307987,0.30334 4.845703,0.47656 1.576187,0.50777 2.278125,1.48481 2.3125,1.92774 0.01719,0.22146 -0.0053,0.46382 -0.423828,0.93554 -0.418564,0.47172 -1.275923,1.09834 -2.71875,1.66797 -1.03404,0.40824 -3.297211,0.52773 -6.03125,0.31445 -2.734039,-0.21328 -5.958304,-0.67123 -9.232422,-0.98242 -3.274118,-0.31118 -6.600588,-0.48531 -9.667969,-0.0508 -3.067381,0.43453 -5.988511,1.52317 -7.974609,3.91211 -0.520475,0.62604 -0.929898,1.29047 -1.115235,2.09766 -0.185336,0.80719 -0.04881,1.76747 0.373047,2.47851 0.843708,1.42208 2.182948,1.90117 3.615234,2.29688 2.864573,0.79141 6.79448,0.94691 11.066407,0.92773 4.271927,-0.0192 8.823255,-0.25855 12.544922,-0.45898 1.860833,-0.10022 3.513481,-0.19183 4.802734,-0.24024 1.289253,-0.0484 2.316986,-0.0263 2.457031,-0.008 1.457263,0.1921 1.970551,0.62193 2.119141,0.6582 -0.141803,0.17971 -0.271861,0.36767 -0.757813,0.72461 -3.883953,2.47765 -12.562989,2.45073 -20.007812,2.1836 -3.731248,-0.13389 -7.129145,-0.27879 -9.804688,0.12304 -1.337771,0.20092 -2.546828,0.49306 -3.601562,1.35743 -1.054734,0.86436 -1.582801,2.56505 -1.248047,3.95312 0.322163,1.33586 1.20876,2.47656 2.285156,3.15234 1.076397,0.67579 2.28512,0.98675 3.576172,1.16407 2.582104,0.35464 5.607455,0.15652 8.886719,-0.0293 6.558527,-0.37163 14.014672,-0.65666 19.05664,2.10937 0.122303,0.0671 0.12558,0.10253 0.228516,0.16797 -1.534872,0.42368 -4.21252,0.85033 -7.509766,1.03907 -7.847807,0.44921 -18.009887,0.0777 -20.617187,-0.0781
l -0.136719,-0.008 -0.136719,0.0117
c -2.709143,0.21374 -5.821167,0.87749 -8.345703,1.82422
l 1.388672,3.70117
c 2.053791,-0.7702 4.942287,-1.38923 7.216797,-1.57422 2.97877,0.17207 12.803684,0.53131 20.857422,0.0703 4.080055,-0.23354 7.526576,-0.55339 9.910156,-1.60937 0.595895,-0.264 1.166827,-0.57523 1.673828,-1.16797 0.507002,-0.59274 0.840526,-1.64766 0.634766,-2.52344 -0.41152,-1.75156 -1.647773,-2.43188 -3.263672,-3.31836 -6.494529,-3.56291 -14.623668,-2.96144 -21.181641,-2.58984 -3.278986,0.1858 -6.195511,0.32333 -8.123046,0.0586 -0.963768,-0.13237 -1.652854,-0.36917 -2.013672,-0.5957 -0.358659,-0.22518 -0.447796,-0.34508 -0.541016,-0.72852 0.126556,-0.0817 0.646677,-0.33462 1.591797,-0.47656 1.999202,-0.30025 5.348211,-0.21768 9.074219,-0.084 7.452015,0.26739 16.498976,0.9343 22.328125,-2.82422
l 0.03906,-0.0254 0.03711,-0.0273
c 1.055559,-0.75303 1.852912,-1.51701 2.347656,-2.51758 0.494743,-1.00056 0.50206,-2.38047 -0.06445,-3.34765 -1.133027,-1.93437 -3.130313,-2.39473 -5.38086,-2.69141 -0.849995,-0.11205 -1.776827,-0.074 -3.123047,-0.0234 -1.346219,0.0505 -3.008444,0.14209 -4.867187,0.24219 -3.717487,0.20021 -8.213942,0.43456 -12.349609,0.45313 -4.135668,0.0186 -7.975263,-0.2249 -9.996094,-0.78321 -0.784477,-0.21673 -0.900007,-0.36052 -0.984375,-0.39062 0.04556,-0.071 0.01347,-0.0452 0.09766,-0.14649 1.141321,-1.37282 2.97745,-2.16942 5.490234,-2.52539 2.512785,-0.35596 5.590004,-0.22714 8.740235,0.0723 3.15023,0.29941 6.370947,0.76003 9.296875,0.98828 2.925928,0.22825 5.538034,0.31135 7.791015,-0.57812 1.844194,-0.72809 3.240868,-1.61399 4.22461,-2.72266 0.983742,-1.10867 1.512899,-2.51427 1.408203,-3.86328 -0.209392,-2.69803 -2.43985,-4.54875 -5.041016,-5.38672 -1.55096,-0.49964 -3.480346,-0.59028 -5.939453,-0.66406 -2.459106,-0.0738 -5.335662,-0.0547 -8.210937,-0.0352 -2.875275,0.0195 -5.748762,0.0409 -8.15625,-0.0195 -2.407488,-0.0604 -4.433742,-0.25392 -5.169922,-0.45508 -1.757414,-0.48021 -2.578554,-1.38866 -2.882813,-2.60742 -0.304259,-1.21876 -0.01458,-2.97789 1.460938,-4.99805 0.48114,-0.65873 3.112783,-2.37417 5.90625,-2.85351 2.793467,-0.47934 5.57614,-0.0636 7.560547,2.13672
l 2.935547,-2.64649
c -2.305338,-2.55614 -5.366479,-3.53707 -8.302735,-3.60156
z" stroke="#d6a" stroke-width="1" fill="#ffe6d6"/>
          <!-- large intestine zone marker (for detection) -->
          <path id="largeIntestineZone" d="M 71.118656 127.75706
C 61.978302 127.77033 52.564443 128.24611 46.152222 129.3611
C 44.592626 129.63229 43.235603 130.74275 42.56226 131.76767
C 41.888917 132.79259 41.630426 133.74193 41.451217 134.64863
C 41.092799 136.46201 41.117981 138.24476 41.20317 140.09584
C 41.373549 143.79802 41.901556 147.89434 41.8946 149.35729
C 41.87619 153.22913 41.801931 157.19888 42.033093 161.85937
C 42.449081 170.24618 47.109808 170.26151 50.612931 169.19587
A 3.1194481 1.5058807 29.471267 0 0 51.789604 170.18238
A 3.1194481 1.5058807 29.471267 0 0 55.433309 170.70121
A 3.1194481 1.5058807 29.471267 0 0 53.841158 167.90241
C 53.86719 167.89056 53.913701 167.86905 53.93831 167.85797
C 50.838138 160.45689 54.626707 162.80193 50.44705 158.95877
C 48.518741 157.1857 49.825462 154.05099 49.847603 149.3945
C 49.861183 146.53729 49.2924 142.859 49.148421 139.73049
C 49.093541 138.5381 49.16322 137.74175 49.22852 137.03143
C 55.636888 136.09912 65.646561 135.61149 74.908089 135.73022
C 79.885893 135.79402 84.587622 136.01052 88.234408 136.35137
C 91.656674 136.67124 94.149779 137.40185 94.129138 137.3048
C 94.175458 137.52346 94.738057 138.30088 95.044845 139.73824
C 95.501136 141.87605 95.76492 144.93087 95.781234 148.14858
C 95.813864 154.58398 94.663398 162.05622 93.619092 164.50004
C 93.36064 165.10485 93.222316 165.23161 92.056396 165.5315
C 90.890476 165.83139 88.923666 165.89344 86.761629 165.77955
C 84.599592 165.66565 82.263301 165.41081 79.961011 165.42194
C 77.658722 165.43304 74.690644 163.60799 72.377494 165.89633
C 69.471733 168.77097 69.858449 171.2986 70.09753 173.88551
C 70.33661 176.47241 72.590401 179.07279 72.590401 179.07279
L 74.799569 179.28311
C 74.799569 179.28311 77.047372 176.31267 76.930705 175.0503
C 76.814037 173.78794 77.650853 174.03365 78.3146 173.37701
C 77.786205 173.89975 78.380781 173.38295 79.999768 173.37495
C 81.618752 173.36695 83.906699 173.59436 86.343567 173.72273
C 88.780435 173.8511 91.387492 173.91438 94.039221 173.23232
C 96.690951 172.55027 100.23546 170.84966 101.55452 167.76289
C 103.66524 162.82353 103.77072 155.30254 103.73424 148.10724
C 103.71604 144.50959 103.46005 141.05693 102.82421 138.07788
C 102.18837 135.09884 101.65218 132.17275 98.279272 130.36104
C 95.516966 128.8773 92.938225 128.80192 88.974414 128.43144
C 85.010604 128.06096 80.150106 127.84517 75.009892 127.77928
C 73.724838 127.76281 72.424421 127.75516 71.118656 127.75706
z"  stroke="#d6a" stroke-width="1" fill="#ffe6d6"/>
        </svg>

        <!-- nutrient tokens that will be animated along the path -->
        <div id="tokens">
          <button class="token carb" data-type="carb" title="點選開始：澱粉 → 葡萄糖">澱粉</button>
          <button class="token protein" data-type="protein" title="點選開始：蛋白質 → 胺基酸">蛋白質</button>
          <button class="token fat" data-type="fat" title="點選開始：脂質 → 甘油 + 脂肪酸">脂質</button>
        </div>

        <div id="info" aria-live="polite"></div>
      </div>
    </main>

    <script src="script.js"></script>
  </body>
</html>
