<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>呼吸運動機制視覺化</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>呼吸運動機制：肋骨與橫膈的協同作用</h1>
        <div class="controls">
            <button id="playPauseBtn">播放/暫停</button>
            <label for="breathSlider">呼吸週期:</label>
            <input type="range" id="breathSlider" min="0" max="100" value="0">
            <span id="statusText">呼氣狀態 (Exhalation)</span>
        </div>
        
        <div class="visualization">
            <svg id="breathingSvg" viewBox="0 0 400 500" xmlns="http://www.w3.org/2000/svg">
                <!-- 定義漸層與濾鏡 -->
                <defs>
                    <linearGradient id="lungGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#ff9999;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#cc6666;stop-opacity:1" />
                    </linearGradient>
                </defs>

                <!-- 脊椎 (背景) -->
                <rect x="190" y="50" width="20" height="400" fill="#ddd" rx="5" />

                <!-- 肺臟 (Lungs) -->
                <g id="lungsGroup">
                    <!-- 左肺 -->
                    <path id="leftLung" d="M180,100 Q120,100 100,200 Q80,300 120,380 Q180,400 180,300 Z" fill="url(#lungGradient)" />
                    <!-- 右肺 -->
                    <path id="rightLung" d="M220,100 Q280,100 300,200 Q320,300 280,380 Q220,400 220,300 Z" fill="url(#lungGradient)" />
                </g>

                <!-- 橫膈膜 (Diaphragm) -->
                <!-- 初始狀態：拱形 (呼氣) -->
                <path id="diaphragm" d="M80,380 Q200,280 320,380" fill="none" stroke="#d35400" stroke-width="8" stroke-linecap="round" />

                <!-- 肋骨 (Ribs) -->
                <g id="ribsGroup" stroke="#eee" stroke-width="6" fill="none" stroke-linecap="round">
                    <!-- 左側肋骨 -->
                    <path class="rib-left" d="M190,120 Q100,140 80,200" />
                    <path class="rib-left" d="M190,160 Q90,190 70,260" />
                    <path class="rib-left" d="M190,200 Q85,240 65,320" />
                    <path class="rib-left" d="M190,240 Q90,290 80,360" />

                    <!-- 右側肋骨 -->
                    <path class="rib-right" d="M210,120 Q300,140 320,200" />
                    <path class="rib-right" d="M210,160 Q310,190 330,260" />
                    <path class="rib-right" d="M210,200 Q315,240 335,320" />
                    <path class="rib-right" d="M210,240 Q310,290 320,360" />
                </g>

                <!-- 胸骨 (Sternum) -->
                <rect id="sternum" x="195" y="100" width="10" height="200" fill="#fff" rx="5" />
                
                <!-- 標籤 -->
                <text x="50" y="450" font-family="Arial" font-size="14" fill="#333">橫膈膜 (Diaphragm)</text>
                <line x1="100" y1="445" x2="150" y2="360" stroke="#333" stroke-width="1" />
            </svg>
        </div>

        <div class="explanation">
            <div class="phase" id="inhaleInfo">
                <h3>吸氣 (Inhalation)</h3>
                <ul>
                    <li>肋骨：向上向外舉起</li>
                    <li>橫膈：收縮並下降 (變平)</li>
                    <li>胸腔體積：變大</li>
                    <li>肺內壓力：下降 (空氣流入)</li>
                </ul>
            </div>
            <div class="phase" id="exhaleInfo">
                <h3>呼氣 (Exhalation)</h3>
                <ul>
                    <li>肋骨：向下向內回復</li>
                    <li>橫膈：舒張並上升 (拱起)</li>
                    <li>胸腔體積：變小</li>
                    <li>肺內壓力：上升 (空氣流出)</li>
                </ul>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
