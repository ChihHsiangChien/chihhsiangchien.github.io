<!DOCTYPE html>

<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  
  <title>心臟跳動</title>
  <style>
  
  p {text-align: center;}
  div {text-align: center;}
  </style>


<style>

</style>
</head>

<body>
<p>
<img id="theImage" src='heart/00.jpg'  width="300" >
</p>
<p>

<input type="button" id="theButton" value=" < "  onclick="picturePrevious()">
<input type="button" id="theButton" value=" PLAY "  onclick="pictureLoop()">
<input type="button" id="theButton" value=" STOP "  onclick="stopLoop()">
<input type="button" id="theButton" value=" > "  onclick="pictureNext()">
</p>
<p>

<input type="button" id="theButton" value=" SLOW "  onclick="slow()">
<input type="button" id="theButton" value=" FAST "  onclick="fast()">
</p>
<p>

速度：<span id="speed">5</span>
</p>

<p>
created by Chih Hsiang Chien
</p>






<script>

	var imgArray = [
		'heart/00.jpg',
		'heart/01.jpg',
		'heart/02.jpg',
		'heart/03.jpg',
		'heart/04.jpg',
		'heart/05.jpg',
		'heart/06.jpg',
		'heart/07.jpg',
		'heart/08.jpg',
		'heart/09.jpg',
		'heart/10.jpg',
		'heart/11.jpg',
		'heart/12.jpg',
		'heart/13.jpg',
		'heart/14.jpg',
		'heart/15.jpg',
		'heart/16.jpg',
		'heart/17.jpg',
		'heart/18.jpg',
		'heart/19.jpg',
		'heart/20.jpg',
		'heart/21.jpg',
		'heart/22.jpg',
		'heart/23.jpg',
		'heart/24.jpg',
		'heart/25.jpg',
		'heart/26.jpg',
		'heart/27.jpg',
		'heart/28.jpg',
		'heart/29.jpg',
		'heart/30.jpg',
		'heart/31.jpg',
		'heart/32.jpg',
		'heart/33.jpg',
		'heart/34.jpg',
		'heart/35.jpg',
		'heart/36.jpg',
		'heart/37.jpg',
		'heart/38.jpg',
		'heart/39.jpg',
		'heart/40.jpg',
		'heart/41.jpg',
		'heart/42.jpg',
		'heart/43.jpg',
		'heart/44.jpg',
		'heart/45.jpg',
		'heart/46.jpg',
		'heart/47.jpg',
		'heart/48.jpg',
		'heart/49.jpg',
		'heart/50.jpg',
		'heart/51.jpg',
		'heart/52.jpg',
		'heart/53.jpg',
		'heart/54.jpg',
		'heart/55.jpg',
		'heart/56.jpg',
		'heart/57.jpg',
		'heart/58.jpg',
		'heart/59.jpg',
		'heart/60.jpg',
		'heart/61.jpg',
		'heart/62.jpg',
		'heart/63.jpg',
		'heart/64.jpg',
		'heart/65.jpg',
		'heart/66.jpg',
		'heart/67.jpg',
		'heart/68.jpg',
		'heart/69.jpg',
		'heart/70.jpg',
		'heart/71.jpg',
		'heart/72.jpg',
		'heart/73.jpg',
		'heart/74.jpg',
		'heart/75.jpg',
		'heart/76.jpg',
		'heart/77.jpg',
		'heart/78.jpg',
		'heart/79.jpg',
		'heart/80.jpg',
		'heart/81.jpg',
		'heart/82.jpg',
		'heart/83.jpg',
		'heart/84.jpg',
		'heart/85.jpg',];




	
	let counter = 0;

	function picturePrevious(){
		counter--; 
		if (counter < 0 ){
			counter = imgArray.length -1 ;}		
		document.getElementById("theImage").src= imgArray[counter] ;
	}	
	
	function pictureNext(){
		counter++; 
		if (counter >= imgArray.length - 1){
			counter = 0;}

		document.getElementById("theImage").src= imgArray[counter] ;
	}

	function pictureLoop(){		
		slideShow();
	}	

	

//	var imgDuration = document.getElementById("time").value;
	var speed = parseInt(document.getElementById("speed").innerHTML);

	console.log(imgDuration);

	function slideShow() {
		var imgDuration = 200 - 20*speed;
		setTimeout(function() {
			document.getElementById('theImage').src = imgArray[counter];
			//document.getElementById('theImage').className = "";
			},imgDuration);


		counter++;		
		myVar = setTimeout(slideShow, imgDuration);
		
		if (counter == imgArray.length) { 
			counter = 0; 
			}
		
		}
	
	function stopLoop() {
		clearTimeout(myVar);	
	}

	function slow() {
		speed -= 1;
		if (speed <= 1){speed = 1}
		//document.getElementById("speed").value = imgDuration ;
		document.getElementById("speed").innerHTML = speed;



	}


	function fast() {
		speed += 1;
		if (speed >= 10){speed = 10}
		//document.getElementById("speed").value = imgDuration;
		document.getElementById("speed").innerHTML = speed;

	}	
	
</script>

</body>
</html>
