# 從像素到微米：ImageJ 基礎測量與校正

本章節將引導你完成 ImageJ 中最基礎也最重要的一趟學習旅程：從認識像素（pixel）開始，到學會如何賦予它真實的物理意義（如微米, µm）。完成後，你將能進行有意義的科學測量。

## 1. 熟悉 ImageJ 操作介面

當你打開 ImageJ/Fiji 時，會看到一個簡潔的主視窗，它主要由以下幾個部分組成：


-   **選單列 (Menu Bar):** 位於最上方，包含了所有功能指令，如 `File` (檔案)、`Edit` (編輯)、`Image` (影像)、`Process` (處理)、`Analyze` (分析) 等。
-   **工具列 (Toolbar):** 選單列下方的一排圖示按鈕，提供了快速選取、繪圖、測量等常用工具。
-   **狀態列 (Status Bar):** 位於主視窗底部，會顯示游標位置的像素座標和數值、影像資訊以及記憶體使用狀況。這是觀察影像即時資訊的重要窗口。

### 實作 1：開啟範例影像與介面巡覽

讓我們開啟一張影像來實際感受一下。

1.  在 ImageJ 中，點擊選單列的 `File > Open Samples > Fluorescent Cells.tif`。
2.  **觀察狀態列：** 將滑鼠游標在影像上移動，注意看狀態列的變化。你會看到 `x, y` 座標和 `value` (像素值) 不斷更新。
3.  **熟悉工具列：**
    *   點擊**放大鏡工具 (Zoom Tool)**，在影像上點擊左鍵放大、右鍵縮小。
    *   點擊**手形工具 (Scrolling Tool)**，按住左鍵拖曳以移動放大的影像。

### 常用快速鍵

熟悉快速鍵可以大幅提升你的操作效率：

-   `Ctrl + O`：開啟檔案
-   `Ctrl + S`：儲存檔案
-   `Ctrl + W`：關閉目前影像
-   `Ctrl + C` / `Ctrl + V`：複製 / 貼上
-   `Ctrl + Z`：復原
-   `Ctrl + M`：測量 (Measure)
-   `Ctrl + H`：顯示直方圖 (Histogram)

---

## 2. 基本測量與單位問題

影像分析的核心是測量。ImageJ 提供了多種工具來進行測量。

### 選擇與測量工具

-   **直線工具 (Line Tool):** 用於測量兩點之間的長度與角度。
-   **矩形/橢圓選擇工具 (Rectangle/Oval Selection):** 用於圈選特定區域進行面積或強度分析。按住 `Shift` 鍵可繪製正方形或正圓。
-   **多邊形選擇 (Polygon Selection):** 用於選擇不規則形狀。

### 實作 2：進行第一次測量 (單位：像素)

現在，讓我們試著測量一個細胞核的直徑。

1.  繼續使用剛剛開啟的 `Fluorescent Cells.tif` 影像。
2.  從工具列選擇**直線工具 (Line Tool)**。
3.  在其中一個藍色的細胞核上，從一端畫一條直線到另一端，以測量其直徑。
4.  按下快速鍵 `Ctrl + M` (或選擇 `Analyze > Measure`)。
5.  一個名為 "Results" 的結果視窗會彈出。

**觀察結果：** 你會看到 "Length" (長度) 這一欄顯示了一個數值。但這個數值的單位是什麼？預設情況下，它的單位是 **pixels (像素)**。

> **關鍵問題：** 一個長度為 "80 pixels" 的細胞核到底有多大？是 8 微米 (µm) 還是 80 微米？如果沒有進一步的資訊，這個測量結果是沒有科學意義的。這就是我們需要「比例尺校正」的原因。

---

## 3. 比例尺校正：賦予像素物理意義

**比例尺校正 (Scale Calibration)** 的目的，就是建立「像素」與「真實物理單位」（如 µm, mm, cm）之間的換算關係。

### 為什麼需要校正？

-   將像素單位轉換為有意義的物理單位。
-   確保測量結果的準確性與可比較性。
-   符合科學研究的標準與規範。

### 實作 3：設定比例 (Set Scale)

要進行校正，我們需要一個已知長度的參考物。在真實實驗中，這通常是顯微鏡拍攝的**校正尺 (Calibration Scale)**。在這裡，我們使用另一張範例影像來模擬這個過程。

1.  開啟範例影像 `File > Open Samples > blobs.gif`。這張影像包含一些黑色斑點。
2.  **假設我們已知**：影像中最左上角那個最大斑點的**實際直徑是 20 微米 (µm)**。
3.  使用**直線工具 (Line Tool)**，盡可能精確地畫出這個斑點的直徑。
4.  執行 `Analyze > Set Scale...`。
5.  在彈出的對話框中：
    *   `Distance in pixels`: ImageJ 會自動填入你剛剛畫的線段長度（像素單位）。
    *   `Known distance`: 輸入我們已知的實際長度，這裡填 **20**。
    *   `Unit of length`: 輸入物理單位，這裡填 **um** (代表微米)。
    *   `Global`: **勾選此項**。這會讓這個校正設定應用於之後開啟的所有影像，直到你關閉 ImageJ 或設定新的比例尺。
    *   點擊 `OK`。

 <!-- 建議此處可放一張 Set Scale 對話框的截圖 -->

6.  **驗證校正：**
    *   再次使用直線工具測量同一個斑點的直徑。
    *   按下 `Ctrl + M`。
    *   現在，"Results" 視窗中的 "Length" 應該會非常接近 20，並且單位已經變成了 **um**！

---

## 4. 加上比例尺圖示 (Scale Bar)

在發表或展示影像時，加上一個視覺化的比例尺圖示是非常專業且必要的做法。

### 實作 4：在影像上加入比例尺

1.  繼續使用剛剛已經校正過的 `blobs.gif` 影像。
2.  執行 `Analyze > Tools > Scale Bar...`。
3.  在彈出的對話框中，你可以自訂比例尺的樣式：
    *   `Width in um`: 設定比例尺代表的長度（例如，設定為 10，代表這條線是 10 微米長）。
    *   `Color`: 選擇比例尺的顏色（例如，選擇 `White` 在黑色背景上會很清楚）。
    *   `Location`: 設定比例尺在影像中的位置（例如 `Lower Right`）。
    *   `Bold Outline`: 勾選後可以讓文字更清晰。
    *   `Overlay`: **建議勾選**。這會將比例尺作為一個可編輯的圖層疊加在影像上，而不會直接破壞原始像素數據。
4.  點擊 `OK`，比例尺圖示就會出現在影像上。
