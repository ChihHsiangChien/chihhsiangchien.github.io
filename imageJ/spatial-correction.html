<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<title>spatial-correction</title>
<link rel="stylesheet" href="styles.css">
<!-- KaTeX CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css" integrity="sha384-wcIxkf4k558AjM3Yz3BBFQUbk/zgIYC2R0QpeeYb+TwlBVMrlgLqwRjRtGZiK7ww" crossorigin="anonymous">
</head>
<body>

<div id="toc">
<h2><a href="index.html">回到首頁</a></h2>
<div class="toc-container">
<div class="toc">
<ul>
<li><a href="#_1">空間校正</a><ul>
<li><a href="#set-scale">Set Scale</a><ul>
<li><a href="#_3">圖上加入比例尺</a></li>
</ul>
</li>
<li><a href="#_4">實作</a><ul>
<li><a href="#a">哆啦A夢有多高？</a></li>
<li><a href="#_5">實作步驟</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

</div>
</div>
<div id="content">
<h1 id="_1">空間校正</h1>
<h2 id="set-scale">Set Scale</h2>
<p><code>Analyze &gt; Set Scale...</code>
使用此對話框來定義當前影像的空間比例，以便測量結果能以校正後的單位（例如公分、毫米）呈現。</p>
<p>在執行此指令之前，應先使用<strong>直線選取工具</strong>畫一條對應已知長度的線段。然後，打開 <code>Set Scale</code> 對話框，輸入已知的距離和測量單位，再點擊「OK」。ImageJ 會根據您所畫線段的長度，自動填入「Distance in Pixels」（像素距離）欄位。</p>
<ul>
<li><strong>Distance in pixels</strong>: 影像中線段選區的長度（像素單位）。ImageJ會自動填入。</li>
<li><strong>Known distance</strong>: 您已知的該線段的實際長度。</li>
<li><strong>Pixel aspect ratio</strong>: 像素的長寬比。通常保持為 1.0。</li>
<li><strong>Unit of length</strong>: 您輸入的已知長度的單位（例如 cm, mm, um）。</li>
<li><strong>Global</strong>: 若勾選此項，此空間校正設定將會應用於之後開啟的所有影像，直到您關閉 ImageJ 或設定新的比例尺。</li>
</ul>
<h4 id="_2">其他設定</h4>
<ul>
<li>將「Distance in Pixels」設為 0 可以恢復為像素測量。</li>
<li>將「Pixel Aspect Ratio」（像素長寬比）設定為非 1.0 的值，可以支援不同的水平和垂直空間比例，例如水平方向為 100 像素/公分，而垂直方向為 95 像素/公分。若要設定像素長寬比，請先測量一個已知長寬比為 1:1 的數位化物件的寬度和高度（以像素為單位）。將測得的寬度（像素）輸入到「Distance in Pixels」，將已知的寬度輸入到「Known Distance」。然後，用寬度除以高度計算出長寬比，並將其輸入到「Pixel Aspect Ratio」欄位。</li>
</ul>
<h3 id="_3">圖上加入比例尺</h3>
<ol>
<li>設定好之後，請再執行 <code>Analyze › Tools › Scale Bar...</code>，可以將比例尺加在圖上。</li>
<li>觀察<code>Image &gt; Properties...</code>與<code>Image &gt; Show Info...</code> 。兩者都會顯示空間校正的訊息。</li>
</ol>
<h2 id="_4">實作</h2>
<h3 id="a">哆啦A夢有多高？</h3>
<p>根據<a href="https://zh.wikipedia.org/zh-tw/%E5%93%86%E5%95%A6A%E5%A4%A2">wikipedia</a>，哆啦A夢的檔案如下:</p>
<ul>
<li>體重：129.3公斤</li>
<li>身高：129.3公分</li>
<li>頭圍：129.3公分</li>
<li>見到老鼠的驚嚇跳起來的高度：129.3公分</li>
<li>見到老鼠的逃跑時速：129.3公里/小時。
是因為哆啦A夢的出生日期是2112/09/03，故皆為1293</li>
</ul>
<h3 id="_5">實作步驟</h3>
<p><img alt="哆啦A夢的角色" src="img/哆啦A夢.png" /></p>
<ol>
<li>利用哆啦A夢的身高當作比例尺</li>
<li>分析大雄媽媽有多高？</li>
<li>在圖上加上比例尺。</li>
</ol>
</div>

<!-- Mermaid JS -->
<script type="module">
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
  mermaid.initialize({}); // Keep double braces for literal JS object
  mermaid.run({ nodes: document.querySelectorAll('.language-mermaid') }); // Keep double braces
</script>

<!-- KaTeX JS -->
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js" integrity="sha384-hIoBPJpTUs74ddyc4bFZSM1TVlQDA60VBbJS0oA934VSz82sBx1X7kSx2ATBDIyd" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous"></script>
<!-- *** CORRECTED SCRIPT WITH ${...} ESCAPING *** -->
        <script>
            document.addEventListener("DOMContentLoaded", function() {
                renderMathInElement(document.body, {
                    delimiters: [
                        { left: '$$',  right: '$$',  display: true },
                        { left: '\\[', right: '\\]', display: true },
                        { left: '\\(', right: '\\)', display: false }
                    ],
                    ignoredTags: ['script','noscript','style','textarea','pre','code'],
                    throwOnError: false
                });
            });
        </script>

</body>
</html>
