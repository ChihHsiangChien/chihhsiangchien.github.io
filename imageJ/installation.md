# ImageJ與Fiji的差異及安裝指南

## 簡介
Fiji（Fiji Is Just ImageJ）是imagej + 預裝plugins。推薦使用Fiji進行醫學影像分析。

## 版本比較

### ImageJ
- 核心功能精簡
- 運行速度較快
- 佔用資源少
- 適合基礎影像處理（Image Processing）
- 需要手動安裝插件（Plugins）

### FIJI
- 預裝大量插件（Plugins）
- 更新頻率較高
- 內建教學資源
- 適合進階分析（Advanced Analysis）
- 佔用空間較大

## 功能特色比較

| 功能 | ImageJ | Fiji |
|------|---------|------|
| 基礎影像處理（Image Processing）| ✓ | ✓ |
| Bio-Formats 支援 | 需額外安裝 | 內建 |
| 3D 影像分析（3D Image Analysis）| 需額外安裝 | 內建 |
| 機器學習支援（Machine Learning）| 需額外安裝 | 內建基礎功能 |

## Fiji安裝步驟

### 1. 下載 Fiji
 [FIJI官方網站](https://fiji.sc/) 下載適合作業系統的版本：
- Windows 64-bit
- Windows 32-bit
- macOS（Intel/Apple Silicon）
- Linux（64-bit）

### 2. 安裝與設定
1. 解壓縮下載的檔案到想安裝的位置
2. 執行 fiji-windows-x64.exe
3. 執行 `Help > Update ImageJ...`：此步驟會更新 ImageJ 的**核心**檔案 (`ij.jar`)，確保軟體底層引擎為最新版本。**更新頻率** 相對較低。只有當 ImageJ 的核心功能有重大修復或改進時，才會有新版本。
4. 執行 `Help > Update...`：此步驟會開啟 Fiji 的**完整更新管理器**，用來更新所有 Plugins、腳本和函式庫，確保整個分析環境保持最新狀態。日常更新主要使用此選項。**更新頻率**非常頻繁。因為生態系中任何一個小Plugin的更新都會被偵測到。



## 注意事項
1. 建議安裝在非系統槽（如D槽）的純英文路徑
2. 確保安裝位置有足夠的硬碟空間（約2GB）
3. 需要網路連接進行自動更新
4. 可能需要管理員權限進行安裝

## 記憶體設定

### 調整記憶體分配
1. `Edit > Options > Memory & Threads`
2. 建議設定：
   - 最大記憶體（Maximum Memory）：系統RAM的70%
   - 執行緒數量（Parallel Threads）：CPU核心數-1

> **為什麼要這樣設定？**
>
> 這些建議值是為了在 **Fiji 效能** 與 **系統穩定性** 之間取得平衡：
>
> - **最大記憶體 (70% of RAM):**
>   - **原因：** 影像處理（特別是Z-stack、時間序列或高解析度影像）非常消耗記憶體。將大部分記憶體分配給 Fiji 可以讓它在處理大型檔案時更快速、更流暢，避免因記憶體不足而崩潰或使用緩慢的硬碟虛擬記憶體。
>   - **為何不是100%：** 作業系統（Windows/macOS）以及其他背景程式（如瀏覽器、通訊軟體）也需要記憶體來維持運作。保留一部分記憶體（約30%）可以確保在 Fiji 執行高強度運算時，電腦依然能保持穩定和回應。
>
> - **執行緒數量 (CPU核心數 - 1):**
>   - **原因：** 現代電腦的 CPU 大多有多個核心，可以同時執行多個任務（平行運算）。讓 Fiji 使用多個核心（執行緒）可以大幅縮短某些濾鏡或插件的處理時間。
>   - **為何要減 1：** 同樣地，作業系統也需要至少一個 CPU 核心來處理背景任務、更新使用者介面。

> **如何在 Windows 查看記憶體與核心數？**  
>
> 1. 按下 `Ctrl + Shift + Esc` 開啟「工作管理員」。  
> 2. 切換到「效能」分頁。  
> 3. **記憶體**：點擊「記憶體」，右上角會顯示總量。  
> 4. **核心數**：點擊「CPU」，右下角會顯示「核心」數量。
