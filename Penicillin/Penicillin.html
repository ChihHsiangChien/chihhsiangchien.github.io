<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>青黴素與二戰：互動時間軸</title>
    <style>
        /* General Styling */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif, 'Microsoft JhengHei', '微軟正黑體';
            line-height: 1.6;
            background-color: #f4f7f6;
            color: #333;
            margin: 0;
            padding: 20px;
            overflow-x: hidden; /* Prevent horizontal scroll */
        }

        .container {
            max-width: 900px;
            margin: 20px auto;
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            color: #0056b3; /* Deep blue */
            margin-bottom: 30px;
            border-bottom: 2px solid #0056b3;
            padding-bottom: 10px;
        }

        /* Timeline Styling */
        .timeline {
            list-style: none;
            padding: 0;
            margin: 0;
            position: relative; /* Needed for the timeline line */
        }

        /* The vertical timeline line */
        .timeline::before {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            left: 50px; /* Position line to the left */
            width: 4px;
            background-color: #007bff; /* Bright blue */
            margin-left: -2px; /* Center the line */
        }

        .timeline-item {
            margin-bottom: 40px;
            position: relative;
            padding-left: 90px; /* Space for year/icon and line */
            cursor: pointer;
            border-radius: 6px;
            transition: background-color 0.3s ease;
            padding-bottom: 10px; /* Add padding for visualization space */
        }

        .timeline-item:hover {
            background-color: #e9f5ff; /* Light blue highlight on hover */
        }

        /* The circle marker on the timeline */
        .timeline-item::before {
            content: attr(data-icon); /* Use data-icon for emoji */
            position: absolute;
            left: 50px;
            top: 5px;
            transform: translateX(-50%);
            width: 30px;
            height: 30px;
            line-height: 30px; /* Center emoji vertically */
            text-align: center;
            font-size: 18px;
            background-color: #007bff;
            color: white;
            border-radius: 50%;
            z-index: 1;
            box-shadow: 0 0 0 4px white; /* White ring around icon */
        }

        .timeline-year {
            display: block;
            font-weight: bold;
            color: #0056b3;
            margin-bottom: 5px;
            font-size: 1.1em;
        }

        .event-description {
            margin: 0;
            color: #555;
        }

        /* Visualization Area */
        .visualization {
            margin-top: 15px;
            padding: 15px;
            background-color: #eef;
            border: 1px dashed #aab;
            border-radius: 4px;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            font-size: 0.9em;
            color: #334;
        }

        /* --- Visualization Specific Styles & Animations --- */

        /* Petri Dish */
        .petri-dish {
            width: 60px;
            height: 60px;
            border: 3px solid #88ccee;
            border-radius: 50%;
            position: relative;
            background-color: #f0f8ff;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.1);
        }
        .mold {
            width: 20px;
            height: 20px;
            background-color: #5f9ea0; /* Cadet blue for mold */
            border-radius: 50%;
            position: relative;
        }
        .clear-zone {
            position: absolute;
            width: 40px;
            height: 40px;
            border: 2px dashed rgba(0,0,0,0.2);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        /* Paper */
        .paper { font-style: italic; font-family: 'Times New Roman', Times, serif; }

        /* Flask */
        .flask {
            width: 50px;
            height: 70px;
            border: 3px solid #777;
            border-bottom-left-radius: 25px;
            border-bottom-right-radius: 25px;
            position: relative;
            background: linear-gradient(to top, #add8e6 40%, transparent 40%); /* Light blue liquid */
        }
        .flask::before { /* Neck */
            content: '';
            position: absolute;
            top: -20px;
            left: 15px;
            width: 14px;
            height: 20px;
            border-left: 3px solid #777;
            border-right: 3px solid #777;
            border-top: 3px solid #777;
            background-color: #fff;
        }
        .flask::after { /* Bubbles */
             content: '';
             position: absolute;
             bottom: 5px;
             left: 10px;
             width: 5px;
             height: 5px;
             background-color: white;
             border-radius: 50%;
             box-shadow: 15px -3px 0 white, 8px -8px 0 white;
             animation: bubbles 1.5s infinite ease-in-out;
        }
        @keyframes bubbles {
            0% { transform: translateY(0); opacity: 0.6; }
            50% { transform: translateY(-15px); opacity: 0.8; }
            100% { transform: translateY(-30px); opacity: 0; }
        }

        /* Mouse */
        .mouse-test { font-size: 2em; }

        /* Bombing */
        .bombing {
            font-size: 2.5em;
            animation: shake 0.5s infinite;
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-3px) rotate(-2deg); }
            75% { transform: translateX(3px) rotate(2deg); }
        }

        /* Collaboration */
        .collaboration { font-size: 2.5em; }

        /* Melon */
        .melon {
            width: 60px;
            height: 60px;
            background-color: #f8d775; /* Melon color */
            border-radius: 50%;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        .melon-mold {
            width: 30px;
            height: 30px;
            background-color: #8fbc8f; /* Dark sea green mold */
            border-radius: 40% 60% 70% 30% / 30% 50% 70% 50%;
            opacity: 0.8;
            box-shadow: 0 0 5px #556b2f; /* Dark olive green */
        }

        /* Pearl Harbor */
        .pearl-harbor { font-size: 2.5em; color: #dc3545; }

        /* Mutation */
        .mutation {
            font-size: 1.5em;
            font-weight: bold;
            animation: colorchange 2s infinite alternate;
        }
        @keyframes colorchange {
            0% { color: #007bff; }
            100% { color: #28a745; } /* Blue to Green */
        }

        /* Factory */
        .factory {
            font-size: 2.5em;
            display: inline-block;
            animation: rotate 3s linear infinite;
        }
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Normandy */
        .normandy { font-size: 2.5em; }

        /* Peace */
        .peace { font-size: 2.5em; color: #28a745; }

        /* Nobel Prize */
        .nobel {
            width: 50px;
            height: 50px;
            background-color: #ffd700; /* Gold */
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            color: #8b4513; /* Saddle brown */
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
        }


    </style>
</head>
<body>

    <div class="container">
        <h1><span role="img" aria-label="microscope">🔬</span> 青黴素與二戰：從實驗室到戰場的奇蹟旅程 <span role="img" aria-label="first aid">⛑️</span></h1>

        <ul class="timeline" id="timeline-list">
            <!-- Timeline items will be generated by JavaScript -->
        </ul>
    </div>

    <script>
        const timelineData = [
            {
                year: "1928.09",
                icon: "🧪",
                description: "亞歷山大·弗萊明在倫敦聖瑪麗醫院實驗室工作時，發現一個忘記蓋蓋子的培養皿上長出了青黴菌（Penicillium notatum），周圍的葡萄球菌被溶解。他命名其產物為「青黴素（Penicillin）」。這是一個偶然但革命性的發現。",
                visualizationType: "petriDish"
            },
            {
                year: "1929",
                icon: "📝",
                description: "弗萊明發表論文，描述青黴素具有抗菌能力，但因為當時無法純化、不穩定且難以保存，這一發現未引起太多關注。",
                visualizationType: "paper"
            },
            {
                year: "1939",
                icon: "⚗️",
                description: "牛津大學的霍華德·弗洛里與恩斯特·錢恩開始重新研究青黴素，並成功提取、穩定與測試其抗菌效果。",
                visualizationType: "flask"
            },
            {
                year: "1940",
                icon: "🧬",
                description: "青黴素首次在老鼠身上成功試驗。當年也進行了第一例人類臨床實驗，效果良好，但藥量嚴重不足。",
                visualizationType: "mouseTest"
            },
            {
                year: "1940.06",
                icon: "⚠️",
                description: "倫敦遭德軍空襲。為保研究安全，研究團隊將青黴菌塗在衣服內裡偷偷運往美國。",
                visualizationType: "bombing"
            },
            {
                year: "1941.03",
                icon: "🤝",
                description: "美國通過《租借法案》，開始援助英國，包括科研合作，標誌著美國雖未參戰，但積極支持反法西斯陣營。",
                visualizationType: "collaboration"
            },
            {
                year: "1941 (中)",
                icon: "🍈",
                description: "在美國伊利諾伊州皮奧里亞，研究員瑪麗·亨特在市場找到一顆發霉的哈密瓜，發現一種高產青黴素的<i lang='la'>Penicillium chrysogenum</i>菌株，遠勝於弗萊明原菌。",
                visualizationType: "melon"
            },
            {
                year: "1941.12.07",
                icon: "💥",
                description: "珍珠港事件後，美國正式加入二戰。此後青黴素成為美軍重點醫療技術之一。",
                visualizationType: "pearlHarbor"
            },
            {
                year: "1942",
                icon: "⚡",
                description: "美國透過紫外線與 X 射線誘變，讓哈密瓜菌株突變，大幅提升青黴素產量。",
                visualizationType: "mutation"
            },
            {
                year: "1943",
                icon: "🏭",
                description: "美國開始工業化大規模生產青黴素，輝瑞等公司採用深層發酵法，大量供應軍隊使用。",
                visualizationType: "factory"
            },
            {
                year: "1944.06.06",
                icon: "⚔️",
                description: "諾曼第登陸：青黴素被列為優先配給前線部隊的戰略藥品，大量用於治療槍傷、感染與梅毒。",
                visualizationType: "normandy"
            },
            {
                year: "1945.05–08",
                icon: "🕊️",
                description: "德國與日本相繼投降，二戰結束。青黴素成功拯救無數傷患，名聲大噪。",
                visualizationType: "peace"
            },
            {
                year: "1945 (末)",
                icon: "🏅",
                description: "弗萊明、弗洛里與錢恩獲得諾貝爾生理醫學獎，表彰他們對青黴素發現與應用的歷史性貢獻。",
                visualizationType: "nobel"
            }
        ];

        const timelineList = document.getElementById('timeline-list');

        // Function to create visualizations based on type
        function createVisualization(type) {
            const vizDiv = document.createElement('div');
            vizDiv.className = 'visualization-content'; // Use a sub-div if needed, or style directly

            switch (type) {
                case 'petriDish':
                vizDiv.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <div class="petri-dish">
                            <div class="mold"></div>
                            <div class="clear-zone"></div>
                        </div>
                        <span>青黴菌抑制細菌生長</span>
                        <img src="01_dish.png" alt="弗萊明的原始培養皿" >
                    </div>`;
                    break;
                case 'paper':
                    vizDiv.innerHTML = `<div class="paper">"On the antibacterial action of cultures of Penicillium..."</div>`;
                    break;
                case 'flask':
                    vizDiv.innerHTML = `
                        <div class="flask"></div>
                        <span style="margin-left: 10px;">純化與穩定性研究</span>`;
                    break;
                case 'mouseTest':
                    vizDiv.innerHTML = `<span class="mouse-test" role="img" aria-label="mouse">🐁</span> ✅ <span style="font-size:0.8em; margin-left: 10px;">動物實驗成功</span>`;
                    break;
                case 'bombing':
                    vizDiv.innerHTML = `<span class="bombing" role="img" aria-label="bomb explosion">💣</span> <span style="margin-left: 10px;">研究面臨威脅</span>`;
                    break;
                case 'collaboration':
                    vizDiv.innerHTML = `<span class="collaboration"><span role="img" aria-label="UK flag">🇬🇧</span> <span role="img" aria-label="handshake">🤝</span> <span role="img" aria-label="US flag">🇺🇸</span></span> <span style="margin-left: 10px;">跨國合作加速</span>`;
                    break;
                case 'melon':
                    vizDiv.innerHTML = `
                        <div class="melon">
                            <div class="melon-mold"></div>
                        </div>
                        <span style="margin-left: 10px;">發現高產菌株</span>`;
                    break;
                case 'pearlHarbor':
                    vizDiv.innerHTML = `<span class="pearl-harbor" role="img" aria-label="explosion">💥</span> <span style="margin-left: 10px; font-weight: bold;">醫療需求激增</span>`;
                    break;
                case 'mutation':
                    vizDiv.innerHTML = `<span class="mutation"><span role="img" aria-label="dna">🧬</span> ➡️ <span role="img" aria-label="sparkles">✨</span></span> <span style="margin-left: 10px;">誘變提高產量</span>`;
                    break;
                case 'factory':
                    vizDiv.innerHTML = `<span class="factory" role="img" aria-label="gear">⚙️</span> <span style="margin-left: 10px;">工業化大規模生產</span>`;
                    break;
                case 'normandy':
                    vizDiv.innerHTML = `<span class="normandy" role="img" aria-label="crossed swords">⚔️</span> <span role="img" aria-label="syringe">💉</span> <span style="margin-left: 10px;">前線重要藥物</span>`;
                    break;
                case 'peace':
                    vizDiv.innerHTML = `<span class="peace" role="img" aria-label="dove">🕊️</span> <span style="margin-left: 10px;">戰爭結束，奇蹟藥物誕生</span>`;
                    break;
                case 'nobel':
                    vizDiv.innerHTML = `
                        <div class="nobel" role="img" aria-label="medal">🏅</div>
                        <span style="margin-left: 10px;">諾貝爾獎肯定</span>`;
                    break;
                default:
                    vizDiv.textContent = '視覺化內容待定';
            }
            return vizDiv;
        }

        // Populate the timeline
        timelineData.forEach(item => {
            const li = document.createElement('li');
            li.className = 'timeline-item';
            li.setAttribute('data-icon', item.icon); // Set icon for the ::before pseudo-element

            const yearSpan = document.createElement('span');
            yearSpan.className = 'timeline-year';
            yearSpan.textContent = item.year;

            const descP = document.createElement('p');
            descP.className = 'event-description';
            descP.textContent = item.description;

            const vizContainer = document.createElement('div');
            vizContainer.className = 'visualization';
            vizContainer.style.display = 'none'; // Initially hidden

            li.appendChild(yearSpan);
            li.appendChild(descP);
            li.appendChild(vizContainer);

            // Add click listener to toggle visualization
            li.addEventListener('click', () => {
                // Close other visualizations first
                document.querySelectorAll('.timeline-item .visualization').forEach(viz => {
                    if (viz !== vizContainer) { // Don't hide the one we are about to show
                         viz.style.display = 'none';
                         viz.innerHTML = ''; // Clear content of others
                    }
                });

                // Toggle display of the clicked item's visualization
                if (vizContainer.style.display === 'none') {
                    vizContainer.innerHTML = ''; // Clear previous content if any
                    const visualizationContent = createVisualization(item.visualizationType);
                    vizContainer.appendChild(visualizationContent);
                    vizContainer.style.display = 'flex'; // Or 'block', 'flex' used for centering
                } else {
                    vizContainer.style.display = 'none';
                    vizContainer.innerHTML = ''; // Clear content when hiding
                }
            });

            timelineList.appendChild(li);
        });

    </script>

</body>
</html>
