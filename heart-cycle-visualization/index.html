<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heart Cycle Visualization</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <h1>Heart Cycle & Valve Timing</h1>
        <div class="canvas-container">
            <svg id="heart-svg" viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg">
                <!-- Definitions for gradients/filters -->
                <defs>
                    <linearGradient id="grad-deoxygenated" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#2563eb;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient id="grad-oxygenated" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" style="stop-color:#ef4444;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#dc2626;stop-opacity:1" />
                    </linearGradient>
                </defs>

                <!-- Vessels (Background) -->
                <g id="vessels-bg">
                    <!-- Vena Cava (Enters RA) -->
                    <path id="vena-cava" d="M 150 50 L 150 200" stroke="#93c5fd" stroke-width="40" fill="none" />
                    <!-- Pulmonary Artery (Exits RV) -->
                    <path id="pulmonary-artery" d="M 230 280 L 230 200 L 200 50" stroke="#93c5fd" stroke-width="35"
                        fill="none" />
                    <!-- Aorta (Exits LV) -->
                    <path id="aorta" d="M 370 280 L 370 200 L 400 50" stroke="#fca5a5" stroke-width="35" fill="none" />
                    <!-- Pulmonary Veins (Enters LA) -->
                    <path id="pulmonary-veins" d="M 450 50 L 450 200" stroke="#fca5a5" stroke-width="40" fill="none" />
                </g>

                <!-- Heart Chambers -->
                <g id="chambers">
                    <!-- Right Atrium (Centered ~150) -->
                    <path id="ra" class="chamber right-heart"
                        d="M 100 200 Q 80 250 100 300 L 200 300 Q 220 250 200 200 Z" fill="url(#grad-deoxygenated)"
                        stroke="#1e40af" stroke-width="2" />

                    <!-- Left Atrium (Centered ~450) -->
                    <path id="la" class="chamber left-heart"
                        d="M 400 200 Q 380 250 400 300 L 500 300 Q 520 250 500 200 Z" fill="url(#grad-oxygenated)"
                        stroke="#991b1b" stroke-width="2" />

                    <!-- Right Ventricle (Extends to 250 for PA) -->
                    <path id="rv" class="chamber right-heart" d="M 100 320 Q 80 450 230 550 Q 280 450 250 320 Z"
                        fill="url(#grad-deoxygenated)" stroke="#1e40af" stroke-width="2" />

                    <!-- Left Ventricle (Extends to 350 for Aorta) -->
                    <path id="lv" class="chamber left-heart" d="M 350 320 Q 320 450 370 550 Q 520 450 500 320 Z"
                        fill="url(#grad-oxygenated)" stroke="#991b1b" stroke-width="2" />
                </g>

                <!-- Valves -->
                <g id="valves">
                    <!-- Valve Styles -->
                    <style>
                        .valve-leaflet {
                            fill: #f8fafc;
                            stroke: #334155;
                            stroke-width: 2;
                        }

                        .valve-annulus {
                            fill: none;
                            stroke: #cbd5e1;
                            stroke-width: 4;
                        }
                    </style>

                    <!-- Tricuspid Valve (RA -> RV) -->
                    <g id="valve-tricuspid" transform="translate(150, 310)">
                        <ellipse cx="0" cy="0" rx="25" ry="8" class="valve-annulus" />
                        <path d="M -25 0 Q -10 25 0 15 Q -15 10 -25 0" class="leaflet-left valve-leaflet" />
                        <path d="M 25 0 Q 10 25 0 15 Q 15 10 25 0" class="leaflet-right valve-leaflet" />
                    </g>

                    <!-- Pulmonary Valve (RV -> PA) -->
                    <g id="valve-pulmonary" transform="translate(230, 290)">
                        <ellipse cx="0" cy="0" rx="20" ry="6" class="valve-annulus" />
                        <path d="M -20 0 Q -10 -20 0 -12 Q -10 -8 -20 0" class="leaflet-left valve-leaflet" />
                        <path d="M 20 0 Q 10 -20 0 -12 Q 10 -8 20 0" class="leaflet-right valve-leaflet" />
                    </g>

                    <!-- Mitral Valve (LA -> LV) -->
                    <g id="valve-mitral" transform="translate(450, 310)">
                        <ellipse cx="0" cy="0" rx="25" ry="8" class="valve-annulus" />
                        <path d="M -25 0 Q -10 25 0 15 Q -15 10 -25 0" class="leaflet-left valve-leaflet" />
                        <path d="M 25 0 Q 10 25 0 15 Q 15 10 25 0" class="leaflet-right valve-leaflet" />
                    </g>

                    <!-- Aortic Valve (LV -> Aorta) -->
                    <g id="valve-aortic" transform="translate(370, 290)">
                        <ellipse cx="0" cy="0" rx="20" ry="6" class="valve-annulus" />
                        <path d="M -20 0 Q -10 -20 0 -12 Q -10 -8 -20 0" class="leaflet-left valve-leaflet" />
                        <path d="M 20 0 Q 10 -20 0 -12 Q 10 -8 20 0" class="leaflet-right valve-leaflet" />
                    </g>
                </g>

                <!-- Labels -->
                <g id="labels" font-family="sans-serif" font-size="14" fill="#333" text-anchor="middle">
                    <text x="150" y="250">Right Atrium</text>
                    <text x="450" y="250">Left Atrium</text>
                    <text x="180" y="450" fill="white">Right Ventricle</text>
                    <text x="420" y="450" fill="white">Left Ventricle</text>
                </g>
            </svg>
        </div>

        <div class="controls">
            <button id="btn-toggle">Play / Pause</button>
            <label>
                Speed:
                <input type="range" id="slider-speed" min="0.5" max="2.0" step="0.1" value="1.0">
            </label>
            <div id="status-display">Phase: <span id="phase-name">Relaxed</span></div>
        </div>

        <div class="info-panel">
            <h3>Cardiac Cycle Status</h3>
            <ul>
                <li>Atria: <span id="status-atria">Relaxed</span></li>
                <li>Ventricles: <span id="status-ventricles">Relaxed</span></li>
                <li>AV Valves (Tricuspid/Mitral): <span id="status-av">Open</span></li>
                <li>SL Valves (Pulmonary/Aortic): <span id="status-sl">Closed</span></li>
            </ul>
        </div>
    </div>
    <script src="script.js"></script>
</body>

</html>