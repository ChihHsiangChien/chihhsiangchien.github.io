<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>生態模擬食物網</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>生態模擬食物網</h1>
    <div class="main-content">
        <div class="left-panel">
            <div class="controls">
                <hr style="margin: 8px 0; border-color: #eee;">

                <div class="button-group">
                    <button id="goContinuousButton" title="連續運行模擬，直到手動停止或觸發停止條件。">連續執行</button>                    
                    <button id="goOnceButton" title="讓模擬前進一個回合。">單回合執行</button>                    
                    <button id="stopButton" disabled title="暫停正在連續運行的模擬。">停止</button>
                    <button id="resetDefaultsButton" title="將所有控制面板的設定恢復到預設值，並重新開始模擬於第0回合。">預設值</button>

                </div>
                <div id="simulationMessages" style="text-align: center; margin-top: 10px; color: red; font-weight: bold; min-height: 1.2em;"></div>
            </div>
        </div>

        <div class="right-panel">
            <div class="simulation-area">
                <canvas id="simulationCanvas" width="450" height="450"></canvas> <!-- Fixed size or use JS to set based on available space -->
                <div class="stats">
                    <span id="ticksDisplay" class="stat-group tick-stat">回合: 0</span>
                    <span id="speciesStatsContainer" class="species-stats"></span>
                </div>
            </div>
            <div class="chart-area">
                <div class="chart-toggle-buttons">
                    <button id="showPopulationChartButton" class="active" title="顯示各族群數量隨時間變化的折線圖。">族群大小圖</button>
                    <button id="showEnergyPyramidButton" title="顯示生產者、初級消費者和次級消費者的總能量比較橫條圖。">能量比較</button>
                    <button id="showFoodWebButton" title="顯示食物網，展示物種間的食物關係網。">食物網</button>
                </div>
                <canvas id="populationChart" style="display: block;"></canvas>
                <canvas id="energyPyramidChart" style="display: none;"></canvas>
                <svg id="foodWebSvg" style="display: none;"></svg>
                <div id="foodWebEdgeCount" class="chart-info" style="display: none;">食性關係數: 0</div>
            </div>
        </div>
    </div>

    <script type="module" src="main.js"></script>
</body>
</html>